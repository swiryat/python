import matplotlib.pyplot as plt
import numpy as np

# Данные из таблицы для каждого угла стрельбы
data = {
    "30°": {
        "distance": np.array([0, 20, 40, 60, 80, 100, 120, 140, 160, 180, 200, 220, 240, 260, 280, 300]),
        "velocity": np.array([880.0, 864.4, 848.9, 833.5, 818.3, 803.2, 788.3, 773.5, 758.9, 744.4, 730.1, 716.0, 702.0, 688.2, 674.5, 661.0]),
        "vertical_correction": np.array([5.0, 2.9, 1.2, 0.0, 0.0, 0.9, 2.0, 3.6, 5.9, 8.7, 12.1, 16.0, 20.4, 25.3, 29.7, 34.2])
    },
    "45°": {
        "distance": np.array([0, 20, 40, 60, 80, 100, 120, 140, 160, 180, 200, 220, 240, 260, 280, 300]),
        "velocity": np.array([880.0, 864.4, 848.9, 833.5, 818.3, 803.2, 788.3, 773.5, 758.9, 744.4, 730.1, 716.0, 702.0, 688.2, 674.5, 661.0]),
        "vertical_correction": np.array([5.0, 1.8, 1.0, 0.5, 0.4, 0.5, 0.9, 1.7, 2.9, 4.9, 7.2, 9.6, 12.1, 15.0, 17.5, 20.0])
    },
    "60°": {
        "distance": np.array([0, 20, 40, 60, 80, 100, 120, 140, 160, 180, 200, 220, 240, 260, 280, 300]),
        "velocity": np.array([880.0, 864.4, 848.9, 833.5, 818.3, 803.2, 788.3, 773.5, 758.9, 744.4, 730.1, 716.0, 702.0, 688.2, 674.5, 661.0]),
        "vertical_correction": np.array([5.0, 2.8, 0.8, 0.4, 0.9, 2.3, 3.4, 4.7, 5.4, 4.6, 3.7, 3.2, 2.1, 1.1, 0.6, 0.4])
    },
    "85°": {
        "distance": np.array([0, 20, 40, 60, 80, 100, 120, 140, 160, 180, 200, 220, 240, 260, 280, 300]),
        "velocity": np.array([880.0, 864.4, 848.9, 833.5, 818.3, 803.2, 788.3, 773.5, 758.9, 744.4, 730.1, 716.0, 702.0, 688.2, 674.5, 661.0]),
        "vertical_correction": np.array([5.0, 2.7, 0.4, 0.0, 1.8, 4.0, 6.1, 8.2, 10.2, 12.2, 14.1, 16.0, 19.4, 21.1, 22.7, 24.2])
    }
}

# Построение графиков
fig, axs = plt.subplots(2, 2, figsize=(14, 10))
angles = ["30°", "45°", "60°", "85°"]

for i, angle in enumerate(angles):
    ax = axs[i // 2, i % 2]
    ax.plot(data[angle]["distance"], data[angle]["velocity"], label="Скорость пули (м/с)", color="blue")
    ax.plot(data[angle]["distance"], data[angle]["vertical_correction"], label="Вертикальная поправка (см)", color="red")
    ax.set_title(f"Прицел 1, угол {angle}")
    ax.set_xlabel("Дистанция (м)")
    ax.set_ylabel("Значение")
    ax.legend()
    ax.grid()

plt.tight_layout()
plt.show()
